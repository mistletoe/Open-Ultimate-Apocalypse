class 'TauCommanderTactic' (Tactic)

TauCommanderTactic.SpecialAbilities = 
{
	{nil, "all_run!", Ability.PredicateFilters.IsNotInCombat, nil},
}

TauCommanderTactic.TargetAbilities = 
{
	{ nil, "tau_snare_trap_commander",	Ability.Filters.CloseEnemy, 1 },
	{ nil, "tau_photon_grenade_commander",	Ability.Filters.CloseEnemy, 1 },
	{ nil, "tau_emp_grenade_commander",	Ability.Filters.CloseEnemy, 1 },
	{ nil, "tau_target_acquired",	Ability.Filters.CloseEnemy, 1 },
}

function TauCommanderTactic:__init( squad_ai ) super( squad_ai )
	self:SetName("Tau Commander Tactic")
	
	Tactic.UtilityFunctions.InitAbilitiesTable(TauCommanderTactic.SpecialAbilities)
	Tactic.UtilityFunctions.InitAbilitiesTable(TauCommanderTactic.TargetAbilities)
end

function TauCommanderTactic:Update()

	if not Tactic.Update( self ) then
		return false
	end
	
	self:DoAbilities()

	return true
end	

--NOTE: TauCommander must never be be attached to another squad (current doesn't).
function TauCommanderTactic:DoAbilities()
	Tactic.UtilityFunctions.DoAbilities(TauCommanderTactic.SpecialAbilities,self.squad_ai,Ability.DoAbility)
	Tactic.UtilityFunctions.DoAbilities(TauCommanderTactic.TargetAbilities,self.squad_ai,Ability.DoAbilityTarget)
end




